@page "/"

<PageTitle>Index</PageTitle>

<Textarea InputType="InputType.TextArea"
          rows="10"
          @bind-Value="@Text"
          @oninput="@(e => OnChange(e))"/>


<br />
@Number1 

@code
{
    [Parameter]
    [SupplyParameterFromQuery]
    public string? Text { get; set; }

    protected override void OnInitialized()
    {
        OnChange(new ChangeEventArgs
        {
            Value = Text
        });
    }

    static PhoneNumbers.PhoneNumberUtil PhoneNumberUtil = PhoneNumbers.PhoneNumberUtil.GetInstance();

    string Number1 { get; set; }

    void OnChange(ChangeEventArgs e)
    {
        if (e.Value is string m)
        {
            try
            {
                Number1 = PhoneNumberUtil.Parse(m, "US").NationalNumber.ToString();
            }
            catch
            {
                Number1 = "Invalid";
            }
        }
    }
}
